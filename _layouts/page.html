---
layout: base
---

{% include header.html type="page" %}

<main class="{% if page.full-width %} container-fluid {% else %} container-md {% endif %}">
  <div class="row">
    <div class="{% if page.full-width %} col {% else %} col-xl-8 offset-xl-2 col-lg-10 offset-lg-1 {% endif %}">
      {% if page.before-content %}
        <div class="before-content">
          {% for file in page.before-content %}
            {% include {{ file }} %}
          {% endfor %}
        </div>
      {% endif %}

      {%- comment -%}
      Page cover / hero: show `page.cover` or `page.thumbnail-img` or fall back to `site.cover`.
      Insert before the main content so pages can supply a cover in front-matter.
      {%- endcomment -%}
      {%- assign cover_url = page.cover | default: page.thumbnail-img | default: site.cover -%}
      {%- if cover_url -%}
        <div class="page-cover" role="img" aria-label="{{ page.title | escape }}" style="background-image: url('{{ cover_url | relative_url }}');">
          <div class="page-cover-inner">
            {%- unless page.cover_no_title -%}
              <h1 class="page-title">{{ page.title }}</h1>
              {% if page.subtitle %}<p class="page-subtitle">{{ page.subtitle }}</p>{% endif %}
            {%- else -%}
              {%- comment -%} image already contains title text; render hidden heading for accessibility {%- endcomment -%}
              <h1 class="sr-only">{{ page.title }}</h1>
            {%- endunless -%}
          </div>
        </div>
      {%- endif -%}

      {{ content }}

      {% if page.after-content %}
        <div class="after-content">
          {% for file in page.after-content %}
            {% include {{ file }} %}
          {% endfor %}
        </div>
      {% endif %}

      {% include comments.html %}
    </div>
  </div>
</main>
